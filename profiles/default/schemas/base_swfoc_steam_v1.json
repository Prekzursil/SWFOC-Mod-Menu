{
  "schemaId": "base_swfoc_steam_v1",
  "gameBuild": "foc_steam_1.1.0",
  "endianness": "little",
  "rootBlocks": [
    { "id": "header", "name": "Header", "offset": 0, "length": 512, "type": "struct", "fields": ["file_magic", "file_version", "save_ticks", "campaign_mode"] },
    { "id": "economy", "name": "Economy", "offset": 6144, "length": 2048, "type": "struct", "fields": ["credits_empire", "credits_rebel", "credits_underworld"] },
    { "id": "hero_state", "name": "Hero State", "offset": 20480, "length": 4096, "type": "struct", "fields": ["hero_vader_alive", "hero_vader_respawn", "hero_palpatine_alive", "hero_palpatine_respawn"] },
    { "id": "planets", "name": "Planets", "offset": 40960, "length": 12288, "type": "array", "fields": ["planet_0_owner", "planet_1_owner", "planet_2_owner"] }
  ],
  "fieldDefs": [
    { "id": "file_magic", "name": "File Magic", "valueType": "ascii", "offset": 0, "length": 8, "path": "/header/file_magic" },
    { "id": "file_version", "name": "File Version", "valueType": "int32", "offset": 8, "length": 4, "path": "/header/file_version" },
    { "id": "save_ticks", "name": "Save Ticks", "valueType": "int64", "offset": 16, "length": 8, "path": "/header/save_ticks" },
    { "id": "campaign_mode", "name": "Campaign Mode", "valueType": "int32", "offset": 48, "length": 4, "path": "/header/campaign_mode" },

    { "id": "credits_empire", "name": "Empire Credits", "valueType": "int32", "offset": 6144, "length": 4, "path": "/economy/credits_empire" },
    { "id": "credits_rebel", "name": "Rebel Credits", "valueType": "int32", "offset": 6148, "length": 4, "path": "/economy/credits_rebel" },
    { "id": "credits_underworld", "name": "Underworld Credits", "valueType": "int32", "offset": 6152, "length": 4, "path": "/economy/credits_underworld" },

    { "id": "hero_vader_alive", "name": "Vader Alive", "valueType": "bool", "offset": 20480, "length": 1, "path": "/hero_state/vader/alive" },
    { "id": "hero_vader_respawn", "name": "Vader Respawn Timer", "valueType": "int32", "offset": 20484, "length": 4, "path": "/hero_state/vader/respawn_timer" },
    { "id": "hero_palpatine_alive", "name": "Palpatine Alive", "valueType": "bool", "offset": 20512, "length": 1, "path": "/hero_state/palpatine/alive" },
    { "id": "hero_palpatine_respawn", "name": "Palpatine Respawn Timer", "valueType": "int32", "offset": 20516, "length": 4, "path": "/hero_state/palpatine/respawn_timer" },

    { "id": "planet_0_owner", "name": "Planet[0] Owner", "valueType": "int32", "offset": 40960, "length": 4, "path": "/planets/0/owner" },
    { "id": "planet_1_owner", "name": "Planet[1] Owner", "valueType": "int32", "offset": 40980, "length": 4, "path": "/planets/1/owner" },
    { "id": "planet_2_owner", "name": "Planet[2] Owner", "valueType": "int32", "offset": 41000, "length": 4, "path": "/planets/2/owner" }
  ],
  "arrayDefs": [
    { "id": "planet_table", "name": "Planet Table", "elementType": "planet_struct", "offset": 40960, "count": 160, "stride": 20, "path": "/planets" },
    { "id": "hero_table", "name": "Hero Table", "elementType": "hero_struct", "offset": 20480, "count": 96, "stride": 40, "path": "/hero_state" }
  ],
  "validationRules": [
    { "id": "credits_empire_non_negative", "rule": "field_non_negative", "target": "credits_empire", "message": "Empire credits cannot be negative", "severity": "error" },
    { "id": "credits_rebel_non_negative", "rule": "field_non_negative", "target": "credits_rebel", "message": "Rebel credits cannot be negative", "severity": "error" },
    { "id": "credits_underworld_non_negative", "rule": "field_non_negative", "target": "credits_underworld", "message": "Underworld credits cannot be negative", "severity": "error" }
  ],
  "checksumRules": [
    { "id": "header_crc32", "algorithm": "crc32", "startOffset": 0, "endOffset": 131072, "outputOffset": 508, "outputLength": 4 }
  ]
}
